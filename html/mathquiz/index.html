<html>
<head>
<script>
var n = 5;
var op = ['+','+','+','*', '*'];

function load(level) {
  var now = new Date();
  var datetime = now.toLocaleString();
  // Insert date and time into HTML
  document.body.innerHTML += datetime;
    if (document.getElementById('p0l')==null) {
        for (let i = 0; i < n; i++) {
            document.body.innerHTML += '</br></br>&nbsp&nbsp<label for="p' + i + 'i" id="p' + i + 'l">' + genproblem(level,op[i % 5]) + '</label>'; 
            document.body.innerHTML += ' = <input size="4" type="text"  inputmode="numeric" pattern="\d*" id="p' + i + 'i">';
            document.body.innerHTML += '<span id="p' + i + 'r"></span>';
        }
        document.body.innerHTML += '</br></br><button id="check" onclick="check()">Check</button>'
    }
}

function check() {
    for (let i = 0; i < n; i++) {
        console.log('p' + i + 'l')
        var p = document.getElementById('p' + i + 'i').value
        var r = eval(document.getElementById('p' + i + 'l').innerHTML)
        if (p == r) {
            document.getElementById('p' + i + 'r').innerHTML = '   &#9989;'
        } else {
            document.getElementById('p' + i + 'r').innerHTML = '  &#10060'
        }
    }
}
function genproblem(level,op) {
    if (level == 0) {
        var min = 0; var max = 10;
        // For level 0, only use addition and subtraction (no multiplication)
        if (op == "*") {op = Math.random() < 0.5 ? "+" : "-";}
        var num1 = min + Math.floor(Math.random() * (max - min + 1));
        var num2 = min + Math.floor(Math.random() * (max - min + 1));
        // Ensure subtraction doesn't result in negative numbers
        if (op == "-" && num1 < num2) {
            var temp = num1;
            num1 = num2;
            num2 = temp;
        }
    } else if (level == 1) {
        var min = 10; var max = 30;
        var num1 = min + Math.floor(Math.random() * max);
        var num2 = min + Math.floor(Math.random() * max);
        if (num1 > num2 && op == "+") {op = "-";} // make subtraction problem
        if (op == "*") {num1 = Math.ceil(num1/4);} // make multiplication easier
    } else if (level == 2) {
        var min = 40; var max = 100;
        var num1 = min + Math.floor(Math.random() * max);
        var num2 = min + Math.floor(Math.random() * max);
        if (num1 > num2 && op == "+") {op = "-";} // make subtraction problem
        if (op == "*") {num1 = Math.ceil(num1/4);} // make multiplication easier
    } else if (level == 3) {
        var min = 200; var max = 500;
        var num1 = min + Math.floor(Math.random() * max);
        var num2 = min + Math.floor(Math.random() * max);
        if (num1 > num2 && op == "+") {op = "-";} // make subtraction problem
        if (op == "*") {num1 = Math.ceil(num1/4);} // make multiplication easier
    }
    var problem = num1 + ' ' + op + ' ' + num2;
    return problem
}

</script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.2" />
<body onload="load(0)">
<h4>Quiz For Sasha</h4>
<img src="sashapapa.jpg" width="100">

</br>
</br>

<!-- <button onclick="load(1)">Easy</button>
<button onclick="load(2)">Medium</button>
<button onclick="load(3)">Hard</button> -->
</body>
</html>
