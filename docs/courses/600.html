<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>AII 600. Foundations and Practice of Machine Learning for Artificial Intelligence. MS in AI – Vadim Sokolov</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-f8cf21c1b9236c2782cceff3e35f088f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cv.html"> 
<span class="menu-text">cv</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html"> 
<span class="menu-text">research</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">teaching</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="../courses/468.html">
 <span class="dropdown-text">Predictive Analytics (UG)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/568.html">
 <span class="dropdown-text">Predictive Analytics (MS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/664.html">
 <span class="dropdown-text">Bayes (MS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/610.html">
 <span class="dropdown-text">Deep Learning (MS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/750.html">
 <span class="dropdown-text">Bayesian Learning (PhD)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/41000/41000.html">
 <span class="dropdown-text">Statistics (MBA)</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">AII 600. Foundations and Practice of Machine Learning for Artificial Intelligence. MS in AI</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>George Mason University</strong><br>
<strong>Fall 2025</strong><br>
</p>
<p><a href="https://www.dropbox.com/scl/fo/p446eewitgisjduwxoqps/AKoCVszZbDuaCQIZtzJkxb4?rlkey=5pjcofkqfv8njzuvewe2ibnp3&amp;dl=0">Course Material</a><br>
</p>
<p><strong>Instructor</strong>: <a href="../index.html">Vadim Sokolov</a><br>
</p>
<p><strong>Location</strong>: Engineering Building, Room 2608<br>
<strong>Time</strong>: Wednesdays 7:20 - 10:00 pm<br>
<strong>Office hours</strong>: By appointment<br>
<strong>Prerequisites</strong>: Graduate standing (Undergraduate engineering math: Calculus, probability theory, statistics, and some basic computer programming skills.).<br>
<strong>HW Logistics</strong>: You will submit your HW and projects to Canvas<br>
</p>
<section id="content-and-goals" class="level4">
<h4 class="anchored" data-anchor-id="content-and-goals">Content and goals</h4>
<p>Introduces the foundations of machine learning encountered in AI with emphasis on practical aspects. Students learn to analyze complex datasets, identify problems benefiting from AI solutions, and implement solutions using appropriate libraries and computing platforms while evaluating them against AI risk frameworks.</p>
</section>
<section id="list-of-topics" class="level4">
<h4 class="anchored" data-anchor-id="list-of-topics">List of Topics</h4>
<ul>
<li>Probability and Bayes</li>
<li>Decision Making</li>
<li>Modeling using known distributions</li>
<li>Frequentist and Bayesian Inference</li>
<li>AB Testing</li>
<li>Regression, Classification and</li>
<li>Mixture of expert models</li>
<li>Tree-based methods</li>
<li>Temporal data and forecasting</li>
<li>Deep Learning</li>
<li>Optimisation and Regularization</li>
<li>Model Selection (Bias-Variance, Double Descent)</li>
<li>AI Risk Frameworks</li>
</ul>
</section>
<section id="schedule" class="level4">
<h4 class="anchored" data-anchor-id="schedule">Schedule</h4>
<ul>
<li>Aug 27: First Class</li>
<li>Sep 10: HW 1 Due</li>
<li>Sep 17: HW 2 Due</li>
<li>Sep 24: HW 3 Due</li>
<li>Oct 1: HW 4 Due</li>
<li>Oct 8: In-class Midterm</li>
<li>Oct 22: HW 5 Due</li>
<li>Nov 5: HW 6 Due</li>
<li>Nov 5: Final project proposal due</li>
<li>December 3: Final Project Presentations (last class)</li>
</ul>
</section>
<section id="case-studies" class="level4">
<h4 class="anchored" data-anchor-id="case-studies">Case Studies</h4>
<ol type="1">
<li><p><strong>Self-Driving Cars and the Uber Fatal Crash (2018)</strong> <em>Focus:</em> Safety, liability, trust in AI, limitations of perception models <em>Key Questions:</em></p>
<ul>
<li>What caused the failure in perception?</li>
<li>Who is responsible—the AI developer, the safety driver, or Uber?</li>
<li>Should fully autonomous driving be paused until X?</li>
</ul></li>
<li><p><strong>COMPAS Algorithm in Criminal Justice</strong> <em>Focus:</em> Algorithmic bias, fairness, transparency <em>Key Questions:</em></p>
<ul>
<li>Why did COMPAS exhibit racial bias?</li>
<li>Can AI be truly unbiased?</li>
<li>Should such models be used in sentencing?</li>
</ul></li>
<li><p><strong>AI in Healthcare: IBM Watson for Oncology</strong> <em>Focus:</em> Promise vs reality, hype cycle, trust in clinical AI <em>Key Questions:</em></p>
<ul>
<li>Why did Watson fail to meet expectations?</li>
<li>What lessons can we learn for future medical AI systems?</li>
</ul></li>
<li><p><strong>Deepfakes and Synthetic Media</strong> <em>Focus:</em> Misinformation, regulation, detection vs creation arms race <em>Key Questions:</em></p>
<ul>
<li>Who should be held accountable for deepfake misuse?</li>
<li>Are technical detection solutions sufficient?</li>
</ul></li>
<li><p><strong>ChatGPT and Large Language Models in Education</strong> <em>Focus:</em> Plagiarism, learning integrity, productivity vs dependence <em>Key Questions:</em></p>
<ul>
<li>Should universities ban or embrace AI tools in coursework?</li>
<li>How do we ensure critical thinking is preserved?</li>
</ul></li>
<li><p><strong>AI in Hiring: Amazon’s Recruitment Tool Bias</strong> <em>Focus:</em> Gender bias, explainability, data-driven discrimination <em>Key Questions:</em></p>
<ul>
<li>Why did the hiring algorithm become biased?</li>
<li>How should companies audit AI systems for fairness?</li>
</ul></li>
<li><p><strong>AI in Warfare: Lethal Autonomous Weapons (LAWS)</strong> <em>Focus:</em> Ethics, accountability, international law <em>Key Questions:</em></p>
<ul>
<li>Should AI be allowed to make life-and-death decisions?</li>
<li>What governance models could prevent misuse?</li>
</ul></li>
<li><p><strong>AI for Social Good: Predictive Models for Disease Outbreaks (e.g., BlueDot and COVID-19)</strong> <em>Focus:</em> Success stories, limitations, data privacy <em>Key Questions:</em></p>
<ul>
<li>Why was BlueDot successful in early COVID detection?</li>
<li>How can similar models be scaled responsibly?</li>
</ul></li>
</ol>
<p>Format:</p>
<ul>
<li>Quick Context (5 min)</li>
<li>Small Group Brainstorm (10 min)</li>
<li>Round Table Reporting and debate (15 min)</li>
<li>Instructor Wrap-Up + Reflection (15 min)</li>
</ul>
<!-- * **Pre-class readings or short videos** (e.g., NYT article, short YouTube explainer).
* **Role-play**: Assign roles (e.g., regulator, engineer, CEO, ethicist) for debate.
* **Polls**: Use Mentimeter or Poll Everywhere for live voting on controversial questions. -->
</section>
<section id="assignments" class="level4">
<h4 class="anchored" data-anchor-id="assignments">Assignments</h4>
<p>Students will have a in-class midterm exam and final project. There are 6 homework assignments; students are encouraged to work in small groups. Each homework has 2-3 theoretical questions and 2-3 hands-on problems. Theoretical questions will be based on the material covered in class. Hands-on problems will require using Python or R and routines provided by instructor to perform data analysis tasks. For the final project a student or a group of students can choose their own data set and a hypothesis to verify. Each group will submit the final report.</p>
</section>
<section id="computing" class="level4">
<h4 class="anchored" data-anchor-id="computing">Computing</h4>
<p>You can choose which software you use. I recommend investing the time to learn Python and R.</p>
<p>A great way to start learning is do a data camp or coursera course.</p>
</section>
<section id="grading" class="level4">
<h4 class="anchored" data-anchor-id="grading">Grading</h4>
<p>Grade based entirely on participation in class, homework assignments, in-class midterm and final project.</p>
<p>Midterm 35% + Final project + 35% + Homework 30%. Scores of each component are normalized to be out of 100. Grades will be posted on <a href="https://mymasonportal.gmu.edu/%20Bb">(D</a>. Cut-offs: 97 (A+), 93 (A), 90 (A-), 87 (B+), 82 (B), 79 (B-), 77 (C+), 73 (C), 70 (C-), 67 (D+), 60)</p>
</section>
<section id="optional-textbooks" class="level4">
<h4 class="anchored" data-anchor-id="optional-textbooks">Optional Textbooks</h4>
<ul>
<li>Diez, Barr and Cetinkaya-Rundel <a href="https://www.openintro.org/stat/textbook.php?stat_book##os%20OpenIntro">Statistics</a>, OpenIntro, 2015</li>
<li>James, Witten, Hastie and Tibshirani, <a href="http://www-bcf.usc.edu/~gareth/ISL/index.html%20An%20Introduction%20to%20Statistical%20Learning%20with%20Applications%20in">R</a>, Springer, 2009.</li>
<li>Kuhn and Johnson, <a href="http://appliedpredictivemodeling.com/%20Applied%20Predictive">Modeling</a>, Springer, 2013.</li>
<li>Hyndman and Athanasopoulos, <a href="https://www.otexts.org/fpp%20Forecasting:%20Principles%20and">Practice</a>, OTexts, 2013.</li>
</ul>
</section>
<section id="mason-honor-code" class="level4">
<h4 class="anchored" data-anchor-id="mason-honor-code">Mason Honor Code</h4>
<p>To promote a stronger sense of mutual responsibility, respect, trust, and fairness among all members of the George Mason University community and with the desire for greater academic and personal achievement, we, the student members of the university community, have set forth this honor code: Student members of the George Mason University community pledge not to cheat, plagiarize, steal, or lie in matters related to academic work. Students are responsible for their own work, and students and faculty must take on the responsibility of dealing with violations. The tenet must be a foundation of our university culture.</p>
<p>All work performed in this course will be subject to Mason’s Honor Code. Students are expected to do their own work in the course. For the group project, students are expected to collaborate with their assigned group members. In papers and project reports, students are expected to write in their own words,</p>
</section>
<section id="individuals-with-disabilities" class="level4">
<h4 class="anchored" data-anchor-id="individuals-with-disabilities">Individuals with Disabilities</h4>
<p>The university is committed to providing equal access to employment and educational opportunities for people with disabilities.</p>
<p>Mason recognizes that individuals with disabilities may need reasonable accommodations to have equally effective opportunities to participate in or benefit from the university educational programs, services, and activities, and have equal employment opportunities. The university will adhere to all applicable federal and state laws, regulations, and guidelines with respect to providing reasonable accommodations as necessary to afford equal employment opportunity and equal access to programs for qualified people with disabilities.</p>
<p>Applicants for admission and students requesting reasonable accommodations for a disability should call the Office of Disability Services at 703-993-2474. Employees and applicants for employment should call the Office of Equity and Diversity Services at 703-993-8730. Questions regarding reasonable accommodations and discrimination on the basis of disability should be directed to the Americans with Disabilities Act (ADA) coordinator in the Office of Equity and Diversity Services.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>