<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Master of Science in Artificial Intelligence – Vadim Sokolov</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-1322888c997fad56b0b4d776d35cf542.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cv.html"> 
<span class="menu-text">cv</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html"> 
<span class="menu-text">research</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">teaching</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="../courses/468.html">
 <span class="dropdown-text">Predictive Analytics (UG)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/568.html">
 <span class="dropdown-text">Predictive Analytics (MS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/664.html">
 <span class="dropdown-text">Bayes (MS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/610.html">
 <span class="dropdown-text">Deep Learning (MS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/750.html">
 <span class="dropdown-text">Bayesian Learning (PhD)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/41000/41000.html">
 <span class="dropdown-text">Statistics (MBA)</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Master of Science in Artificial Intelligence</h1>
<p class="subtitle lead">Engineer the Future of Intelligence</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong><a href="https://www.gmu.edu/admissions-aid">Application Information</a></strong><br>
<strong>Contact Information:</strong> cecmsai@gmu.edu (Vadim Sokolov, program director)<br>
</p>
<section id="program-overview" class="level2">
<h2 class="anchored" data-anchor-id="program-overview">Program Overview</h2>
<p>In today’s rapidly evolving technological landscape, artificial intelligence has emerged as the most transformative force across industries, government, and society. Recent research reveals a critical challenge: while 89% of organizations are piloting or investing in AI developments, only 6% of employees feel very comfortable using AI in their roles. This widening gap between organizational adoption and workforce readiness represents one of the most significant barriers to innovation and economic growth.</p>
<p>The AI skills shortage has accelerated at an unprecedented rate, becoming the largest and fastest-growing tech skills gap in over 15 years. Almost twice as many technology leaders (51%) now report suffering an AI skills shortage compared to 28% just 18 months ago-an 82% jump that far outpaces other technical skills deficits. Despite this urgent need, only four in ten organizations are upskilling their current staff.</p>
<p>The disparity in AI skills access is particularly concerning. While 75% of companies have adopted AI technology, just one-third of employees received AI training in the past year. George Mason University’s Master of Science in Artificial Intelligence program directly addresses these challenges by preparing professionals with comprehensive knowledge and practical skills across the entire AI operations pipeline. Launching in Fall 2025, this innovative 30-credit program equips students to:</p>
<ul>
<li>Identify real-world problems that benefit from AI solutions</li>
<li>Implement secure and scalable AI systems across diverse computing platforms</li>
<li>Develop, train, and tune AI models to optimize performance</li>
<li>Address ethical considerations and evaluate AI systems against risk frameworks</li>
<li>Translate technical details into actionable insights for diverse audiences</li>
</ul>
<p>Our curriculum balances technical mastery with ethical responsibility, preparing graduates who can not only build AI technologies but also govern their responsible implementation across industries, government agencies, and public services.</p>
</section>
<section id="learning-journey" class="level2">
<h2 class="anchored" data-anchor-id="learning-journey">Learning Journey</h2>
<p>The MS in Artificial Intelligence program consists of 30 credit hours, with 18 credits of core coursework and 12 credits from specialized topic areas. Students will gain both theoretical foundations and hands-on experience through a carefully designed sequence of courses.</p>
<section id="core-courses" class="level3">
<h3 class="anchored" data-anchor-id="core-courses">Core Courses</h3>
<p><strong>AII 600: Foundations and Practice of Machine Learning for Artificial Intelligence</strong> (3 credits) Introduces the foundations of machine learning encountered in AI with emphasis on practical aspects. Students learn to analyze complex datasets, identify problems benefiting from AI solutions, and implement solutions using appropriate libraries and computing platforms while evaluating them against AI risk frameworks.</p>
<p><strong>AII 601: Planning and Decision Making for Intelligent Agents</strong> (3 credits) Explores planning domain representations, optimal search-based strategies, and methods for effective planning under uncertainty. Students master Markov Decision Processes for decision making, reinforcement learning methods, temporal difference learning, and policy gradient algorithms-essential components of modern robotics and game-playing AI systems.</p>
<p><strong>AII 602: Foundations and Practice of Deep Learning for Artificial Intelligence</strong> (3 credits) Provides theoretical motivation and practical implementation of neural networks and deep learning. Students master designing, training, fine-tuning, and monitoring deep networks, including explainability. The course covers supervised, self-supervised, and unsupervised learning approaches with applications in computer vision, natural language processing, deep reinforcement learning, and generative AI.</p>
<p><strong>AII 603: Engineering Artificial Intelligence Systems and Pipelines</strong> (3 credits) Delivers hands-on experience building, deploying, and evaluating large-scale AI technologies across industry sectors. Through team-based projects, students develop scalable API solutions for embedded, edge, and cloud computing platforms, preparing them for collaborative industry environments.</p>
<p><strong>GBUS 662: Management of IT</strong> (3 credits) Covers strategic, economic, and managerial aspects of managing an organization’s IT assets. Students learn to assess business value of IT within organizational structure and strategy, with discussions on management of IT infrastructure.</p>
<p><strong>ME 576: AI: Ethics, Policy, and Society</strong> (3 credits) Examines pressing ethical and policy issues in AI, including transparency, privacy, surveillance, misinformation, fairness, algorithmic bias, justice, equity, trust, and labor practices. Students explore these topics through cutting-edge use cases and current events, developing frameworks for responsible AI governance.</p>
</section>
<section id="topic-areas" class="level3">
<h3 class="anchored" data-anchor-id="topic-areas">Topic Areas</h3>
<p>Students must select at least one course from each of the following four topic areas, with advisor approval:</p>
<p><strong>1. Artificial Intelligence Policy, Ethics, and Society</strong> Sample courses:</p>
<ul>
<li>AIT 679: Law and Ethics of Big Data</li>
<li>BIOD 760: National Security Technology and Policy</li>
<li>GCP 604: New Technologies in the Global Economy</li>
<li>ME 575: AI Design and Deployment Risks</li>
</ul>
<p><strong>2. Advanced Artificial Intelligence</strong> Sample courses:</p>
<ul>
<li>AIT 616: Interactive Machine Learning and Artificial Intelligence</li>
<li>AIT 726: Natural Language Processing with Deep Learning</li>
<li>OR 664: Bayesian Artificial Intelligence</li>
<li>OR 774: Reinforcement Learning</li>
</ul>
<p><strong>3. Scalable and Secure Artificial Intelligence Infrastructures</strong> Sample courses:</p>
<ul>
<li>AIT 670: Cloud Computing Security</li>
<li>AIT 687: IoT and Edge Systems</li>
<li>ECE 554: Machine Learning for Embedded Systems</li>
<li>CS 695/SWE 699: AI Safety and Assurance</li>
</ul>
<p><strong>4. Use-inspired Artificial Intelligence</strong> Sample courses:</p>
<ul>
<li>AIT 636: Interpretable Machine Learning</li>
<li>CYSE 689: Artificial Intelligence Methods for Cybersecurity</li>
<li>STAT 646: Probabilistic Machine Learning</li>
<li>HAP 774: Artificial Intelligence in Health</li>
</ul>
</section>
</section>
<section id="program-highlights" class="level2">
<h2 class="anchored" data-anchor-id="program-highlights">Program Highlights</h2>
<section id="expert-faculty" class="level3">
<h3 class="anchored" data-anchor-id="expert-faculty">Expert Faculty</h3>
<p>Led by the College of Engineering and Computing at George Mason University, this program brings together world-class faculty with extensive experience in AI research and application. Our instructors include professors from Computer Science, Statistics, Operations Research, Cyber Security, Public Policy who have over many years of combined teaching and research experience in AI and related fields. Many have published extensively in peer-reviewed journals specific to their disciplinary areas and AI, and serve as leaders in national organizations focused on artificial intelligence.</p>
<p>The program draws on interdisciplinary expertise from multiple GMU colleges, including the School of Computing, the College of Humanities and Social Sciences, the Schar School of Policy and Government, and the Donald G. Costello College of Business. This collaborative approach ensures students benefit from diverse perspectives on AI’s technical foundations, business applications, and societal impacts.</p>
<p>Faculty members like Dr.&nbsp;Jana Kosecka specialize in computer vision and machine learning, while Dr.&nbsp;Shuochao Yao focuses on AI systems for Internet of Things and cyber-physical systems. The program also features experts in generative AI, differential privacy, and statistical machine learning like Dr.&nbsp;Anand Vidyashankar, and leaders in Bayesian statistics and deep learning like Dr.&nbsp;Vadim Sokolov.</p>
</section>
<section id="industry-connections" class="level3">
<h3 class="anchored" data-anchor-id="industry-connections">Industry Connections</h3>
<p>George Mason University’s strategic location in Northern Virginia-a hub for technology innovation and government agencies-provides unparalleled opportunities for industry engagement. The College of Engineering and Computing maintains robust industry partnerships that support student success through:</p>
<ul>
<li>Research collaborations with faculty on cutting-edge AI problems</li>
<li>Access to industry mentors and guest speakers</li>
<li>Opportunities for internships and job placement</li>
<li>Collaborative problem-solving through Engineering Artificial Intelligence course projects</li>
</ul>
<p>Recently, George Mason University was awarded a $1 million grant to establish the nation’s first Center for AI Innovation for Economic Competitiveness (CAIIEC), focused on helping small and medium enterprises adopt AI technologies. The university has also launched an AI-in-Gov Faculty Fellows Program to advance responsible, impactful use of AI in the public sector.</p>
<p>These initiatives, along with GMU’s Industry Partner Program, create a vibrant ecosystem where students can connect with potential employers and gain real-world experience implementing AI solutions. This network provides graduates not only with technical skills but also with professional relationships that accelerate their careers in the rapidly evolving field of artificial intelligence.</p>
<p>By joining GMU’s Master of Science in Artificial Intelligence program, you’ll become part of a community dedicated to addressing the AI skills gap while developing the next generation of ethical, innovative AI leaders.</p>
</section>
</section>
<section id="faq" class="level2">
<h2 class="anchored" data-anchor-id="faq">FAQ</h2>
<ul>
<li><strong>In this an in-person program?</strong> For the 2025-2026 academic year, the program will be offered in-person. The program may be offered online in the future. Although some of the courses may be offered online, the program is not designed to be fully online.</li>
<li><strong>Is there is a part-time option?</strong> The program is designed to be completed in 1.5-2 years, if you take 3-4 courses per semester (full-time). Students can take courses at their own pace, but the program is not designed to be fully self-paced. Note, that some of the courses are offered only once a year?</li>
<li><strong>I work full-time, can I do this program?</strong> Yes, the program is designed to accommodate working professionals. The courses are offered in the evenings (4:30-7:10pm and 7:20-10pm), allowing you to balance your work and study commitments.</li>
<li><strong>What is the cost of the program?</strong> The tuition and fees for the program are subject to change. For the most up-to-date information, please visit the <a href="https://studentaccounts.gmu.edu/wp-content/uploads/AY24-25_Tuition_and_Fee_Rates_Per_Credit.pdf">George Mason University tuition and fees page</a>.</li>
<li><strong>What is the application process?</strong> The application process for the program is managed by the George Mason University Office of Admissions. For detailed information on how to apply, please visit the <a href="https://www.gmu.edu/admissions-aid">George Mason University admissions page</a>.</li>
<li><strong>My background in math, stats and cs is weak, will I be able to succeed in this program?</strong> The program is designed to accommodate students with diverse backgrounds. However, a some foundation in mathematics, statistics, and computer science will be rfequired for your success in the program. Prior to starting the prgram, each student will go through the assesment process to determine their readiness for the program. The assessment will include a review of your knowledge in mathematics, statistics, and computer science, including programming languages (Python, R, etc.), data structures, algorithms, and linear algebra. Based on the results, we will recommend to take additional non-credit and free courses or complete self-study materials to strengthen your foundation in these areas. Further, every student will be taking the foundations in AI course (AII 600) in the first semester, which will cover the foundations of AI and machine learning. This course is designed to help students build a strong foundation in AI and machine learning concepts, regardless of their prior experience.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>